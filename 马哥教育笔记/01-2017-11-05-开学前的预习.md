# LINUX简介
## 操作系统与硬件
分层结构如下：
* 硬件
* 内核
* 库
* 应用程序

## 终端的概念
概念： 是一个或者多个设备的组合。

分类：
* **物理终端**： 本机自带的，显示器，键盘和鼠标等，表示为`/dev/control`。
* **虚拟终端**： 系统提供的终端（软件实现），表示为`/dev/tty#`。
* **图形终端**： 附加在物理终端之上，用软件方式实现的终端，提供图形界面。
* **伪终端**： 图形界面下贷款的命令行接口,还有基于远程协议打开的命令行界面，表示为`/dev/pts#`。

查看当前的登陆的终端类型：
``` bash
[root@mail ~]# tty
/dev/pts/2
```
### 交互式程序分类
* **GUI**:  图形化界面（GNOME,KDE,XFCE）
* **CLI**:  命令行界面

查看当前的shell类型
``` bash
[root@mail ~]# echo $SHELL
/bin/bash
```
查看系统支持的所有shell类型
``` bash
[root@mail ~]# cat /etc/shells
/bin/sh
/bin/bash
/sbin/nologin
/usr/bin/sh
/usr/bin/bash
/usr/sbin/nologin
/bin/tcsh
/bin/csh
```
## 命令提示符
`[root@mail ~]#`我们成为PS1,设置我们使用命令的前缀的。

查看当前的PS1设置
``` bash
[root@mail ~]# echo $PS1
[\u@\h \W]\$
```
详细的PS1设置可以通过`man bash |grep PS1 -A 40`获得
```bash
              \a     an ASCII bell character (07)
              \d     the date in "Weekday Month Date" format (e.g., "Tue May 26")
              \D{format}
                     the format is passed to strftime(3) and the result  is  inserted
                     into the prompt string; an empty format results in a locale-spe‐
                     cific time representation.  The braces are required
              \e     an ASCII escape character (033)
              \h     the hostname up to the first `.' 短主机名字
              \H     the hostname 全主机名
              \j     the number of jobs currently managed by the shell
              \l     the basename of the shell's terminal device name
              \n     newline
              \r     carriage return
              \s     the name of the shell, the basename of $0 (the portion following
                     the final slash)
              \t     the current time in 24-hour HH:MM:SS format 24小时的格式
              \T     the current time in 12-hour HH:MM:SS format 24小时的格式
              \@     the current time in 12-hour am/pm format    12小时的上下午格式
              \A     the current time in 24-hour HH:MM format    24的时分没秒的格式
              \u     the username of the current user   用户名
              \v     the version of bash (e.g., 2.00)   bash的版本
              \V     the release of bash, version + patch level (e.g., 2.00.0) 补丁版本
              \w     the  current  working  directory,  with $HOME abbreviated with a
                     tilde (uses the value of the PROMPT_DIRTRIM variable) 长工作目录名字
              \W     the basename of the current working directory, with $HOME abbre‐
                     viated with a tilde  短工作目录名字
              \!     the history number of this command 当前命令的历史号
              \#     the command number of this command 命令提示符，表示管理员和普通用户的
              \$     if the effective UID is 0, a #, otherwise a $ 用户的uid
              \nnn   the character corresponding to the octal number nnn
              \\     a backslash 
              \[     begin a sequence of non-printing characters, which could be used
                     to embed a terminal control sequence into the prompt
              \]     end a sequence of non-printing characters

```

查看命令对应的执行程序全路径
``` bash
[root@mail user1]# which ls
alias ls='ls --color=auto'
	/usr/bin/ls
[root@mail user1]# which ls --skip-alias
/usr/bin/ls
```
查看命令帮助文档位置
``` bash
[root@mail user1]# whereis ls
ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz /usr/share/man/man1p/ls.1p.gz
```
shell命令分类
* 内建命令： 由shell自带。
* 外部命令： 某路径下对i用那个的可执行程序文件。

查看命令类型
``` bash
[root@mail user1]# type cd
cd is a shell builtin
[root@mail user1]# type service
service is /usr/sbin/service
```
## 文件系统
文件系统特性
* 文件名区分大小写
* 文件名除了`/`的任意字符都可以，不建议特殊字符
* 文件名长度不能超过255字符
* 所有`.`开头的文件都是隐藏文件

路径分类： 
* 绝对路径： 从根目录开始的路径
* 相对路径： 从当前目录开始的路径

LINUX命令获取帮助方式
* COMMAND --help
* man
* info
* 程序自身的帮助文档，如README,INSTALL,CHANGELOG.
* 程序的官方文档
* 发行版的官方文档
* GOOGLE

#### hash命令学习
```bash
[root@mail user1]# help hash
hash: hash [-lr] [-p pathname] [-dt] [name ...]
    Remember or display program locations.
    Options:
      -d		forget the remembered location of each NAME 清空指定的命令hash
      -l		display in a format that may be reused as input 显示所有的
      -p pathname	use PATHNAME is the full pathname of NAME   
      -r		forget all remembered locations     清空所有命令的hash
      -t		print the remembered location of each NAME, preceding
    		each location with the corresponding NAME if multiple
    		NAMEs are given 打印hash记录的命令位置

```
#### history命令学习
```bash
[root@mail user1]# help history
history: history [-c] [-d offset] [n] or history -anrw [filename] or history -ps arg [arg...]
    Display or manipulate the history list.
    
    Display the history list with line numbers, prefixing each modified
    entry with a `*'.  An argument of N lists only the last N entries.
    
    Options:
      -c	clear the history list by deleting all of the entries 清空命令历史
      -d offset	delete the history entry at offset OFFSET. 删除指定位置的命令历史
    
      -a	append history lines from this session to the history file 追加历史行到历史文件中
      -n	read all history lines not already read from the history file 从历史文件中读取所有命令历史
      -r	read the history file and append the contents to the history
    	list 读取所有命令历史文件追加history 列表中
      -w	write the current history to the history file 
    	and append them to the history list 写当前的历史记录到文件中去
    
      -p	perform history expansion on each ARG and display the result
    	without storing it in the history list 
      -s	append the ARGs to the history list as a single entry
    
    If FILENAME is given, it is used as the history file.  Otherwise,
    if $HISTFILE has a value, that is used, else ~/.bash_history.
    
    If the $HISTTIMEFORMAT variable is set and not null, its value is used
    as a format string for strftime(3) to print the time stamp associated
    with each displayed history entry.  No time stamps are printed otherwise.

```

查询命令的所属章节
``` bash
[root@mail user1]# whatis ls
ls (1)               - list directory contents
ls (1p)              - list directory contents
[root@mail user1]# man 1 ls
```
命令的分类
* 1： 用户命令
* 2： 系统调用
* 3： 库调用
* 4： 设备及特殊文件
* 5： 配置文件
* 6： 游戏
* 7： 杂项
* 8： 管理命令